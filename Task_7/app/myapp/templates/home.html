<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Food Ranking Input</title>
    <style>
        button {
            margin: 4px;
            padding: 8px 12px;
            font-size: 14px;
        }
    </style>
    <script>
        function selectCuisine(cuisine) {
            document.getElementById('selectedCuisine').value = cuisine;
            document.getElementById('selectedCuisineDisplay').textContent = "Selected Cuisine: " + cuisine;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('form');
            form.addEventListener('submit', function(e) {
                const cuisine = document.getElementById('selectedCuisine').value;
                if (!cuisine) {
                    e.preventDefault();
                    alert('Please select a cuisine before submitting.');
                }
            });
        });
    </script>
</head>
<body>
    <h2>Select a Cuisine and Enter Dish Names</h2>

    <!-- Cuisine Buttons -->
    <div>
        <button type="button" onclick="selectCuisine('American')">American</button>
        <button type="button" onclick="selectCuisine('Chinese')">Chinese</button>
        <button type="button" onclick="selectCuisine('Indian')">Indian</button>
        <button type="button" onclick="selectCuisine('Italian')">Italian</button>
        <button type="button" onclick="selectCuisine('Mediterranean')">Mediterranean</button>
        <button type="button" onclick="selectCuisine('Mexican')">Mexican</button>
    </div>

    <p id="selectedCuisineDisplay" style="margin-top: 10px; font-weight: bold;">Selected Cuisine: (none)</p>

    <!-- Input Form -->
    <form method="post">
        {% csrf_token %}

        <!-- Hidden input to store cuisine selection -->
        <input type="hidden" name="selectedCuisine" id="selectedCuisine">

        <!-- Dish input -->
        <label for="userText">Enter dish names (comma-separated):</label><br>
        <input type="text" id="userText" name="userText" required placeholder="e.g. garlic naan, mango lassi">
        <br><br>

        <input type="submit" value="Submit">
    </form>

    {% if ranked_dishes %}
        <h3>Ranked Dishes:</h3>
        <ol>
            {% for dish, score in ranked_dishes %}
                <li><strong>{{ dish }}</strong> </li>
            {% endfor %}
        </ol>
    {% endif %}
</body>
</html>
